// Generated by CoffeeScript 1.6.3
(function() {
  window.deucesApp = angular.module('deuces', [], function($provide) {
    $provide.factory('socket', function($rootScope) {
      var socket;
      socket = io.connect();
      return {
        on: function(eventName, callback) {
          return socket.on(eventName, function() {
            var args;
            args = arguments;
            return $rootScope.$apply(function() {
              return callback.apply(socket, args);
            });
          });
        },
        emit: function(eventName, data, callback) {
          return socket.emit(eventName, data, function() {
            var args;
            args = arguments;
            return $rootScope.$apply(function() {
              if (callback) {
                return callback.apply(socket, args);
              }
            });
          });
        }
      };
    });
    return $provide.factory('playerMap', function($rootScope) {
      return function(playerIndex, players) {
        var currentPlayerIndex, directions, x, _i;
        directions = ["west", "north", "east"];
        for (x = _i = 0; _i < 3; x = ++_i) {
          currentPlayerIndex = playerIndex + x + 1;
          if (!(currentPlayerIndex > 3)) {
            players[currentPlayerIndex].seat = directions[x];
          } else {
            players[currentPlayerIndex - 4].seat = directions[x];
          }
        }
        return players;
      };
    });
  });

}).call(this);
