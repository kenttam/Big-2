// Generated by CoffeeScript 1.6.3
(function() {
  var Card, Deck, Game, Player, Ranks, Suits, _,
    __hasProp = {}.hasOwnProperty;

  _ = require("./lib/underscore-min");

  Ranks = {
    0: 3,
    1: 4,
    2: 5,
    3: 6,
    4: 7,
    5: 8,
    6: 9,
    7: 10,
    8: "J",
    9: "Q",
    10: "K",
    11: "A",
    12: 2
  };

  Suits = {
    0: "Diamond",
    1: "Club",
    2: "Hearts",
    3: "Spade"
  };

  Game = (function() {
    function Game() {
      this.deck = new Deck();
      this.players = [];
    }

    Game.prototype.addPlayer = function(player) {
      if (player instanceof Player && this.players.length < 4) {
        return this.players.push(player);
      }
    };

    Game.prototype.start = function() {
      if (this.players.length === 4) {
        return this.deck.shuffle();
      }
    };

    Game.prototype.passOutCards = function() {
      this.players[0].hand = this.deck.cards.slice(0, 13);
      this.players[1].hand = this.deck.cards.slice(13, 26);
      this.players[2].hand = this.deck.cards.slice(26, 39);
      return this.players[3].hand = this.deck.cards.slice(39, 52);
    };

    Game.prototype.findPlayerIndexWithDiamondThree = function() {
      var diamondThree, playerNumber;
      diamondThree = new Card(3, "Diamond");
      playerNumber = null;
      _.each(this.players, function(player, currentPlayerNumber) {
        return _.each(player.hand, function(card) {
          if (_.isEqual(card, diamondThree)) {
            return playerNumber = currentPlayerNumber;
          }
        });
      });
      return playerNumber;
    };

    return Game;

  })();

  Deck = (function() {
    function Deck() {
      var rank, rank_num, suit, suit_num;
      this.cards = [];
      for (rank_num in Ranks) {
        if (!__hasProp.call(Ranks, rank_num)) continue;
        rank = Ranks[rank_num];
        for (suit_num in Suits) {
          if (!__hasProp.call(Suits, suit_num)) continue;
          suit = Suits[suit_num];
          this.cards.push(new Card(rank, suit));
        }
      }
    }

    Deck.prototype.shuffle = function() {
      return this.cards = _.shuffle(this.cards);
    };

    return Deck;

  })();

  Player = (function() {
    function Player() {
      this.hand = [];
    }

    return Player;

  })();

  Card = (function() {
    function Card(rank, suit) {
      this.rank = rank;
      this.suits = suit;
    }

    return Card;

  })();

  exports.Card = Card;

  exports.Game = Game;

  exports.Player = Player;

  exports.Deck = Deck;

}).call(this);
